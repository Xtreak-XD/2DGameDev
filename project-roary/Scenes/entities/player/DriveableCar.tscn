[gd_scene load_steps=16 format=3 uid="uid://con1q0nhgkj8i"]

[ext_resource type="Script" uid="uid://c3of3utw4kpaw" path="res://Scripts/entities/car/DriveableCar.cs" id="1_n2rgb"]
[ext_resource type="Texture2D" uid="uid://b1twhsk52s8ia" path="res://Sprites/entities/player/driveable_car.jpeg" id="1_u0rys"]
[ext_resource type="Script" uid="uid://c5suem3u3axdw" path="res://Scripts/entities/car/car_state_machine/CarStateMachine.cs" id="2_0u1t5"]
[ext_resource type="Resource" uid="uid://y0yi8axjpmqh" path="res://Resources/entities/player/CarStats.tres" id="2_sbjmw"]
[ext_resource type="Script" uid="uid://dkov12aknt46v" path="res://Scripts/resources/GenericData.cs" id="3_pc2um"]
[ext_resource type="PackedScene" uid="uid://cabq84yevl4wd" path="res://Scenes/helperScenes/hurtbox.tscn" id="3_rrs41"]
[ext_resource type="Script" uid="uid://y24dyjapjtlc" path="res://Scripts/entities/car/car_state_machine/ParkState.cs" id="4_hjrlu"]
[ext_resource type="Script" uid="uid://qkt22wionkvp" path="res://Scripts/entities/car/car_state_machine/DriveState.cs" id="5_7i5lx"]
[ext_resource type="Script" uid="uid://c60jcyd2mmvco" path="res://Scripts/entities/car/car_state_machine/DecelerateState.cs" id="6_7i5lx"]
[ext_resource type="PackedScene" uid="uid://b7hfl3picvwq7" path="res://Scenes/ui/MenuScreen.tscn" id="9_emffi"]
[ext_resource type="Script" uid="uid://cmmmk7qcu7n77" path="res://Scripts/entities/car/car_state_machine/ReverseState.cs" id="10_8qdtk"]

[sub_resource type="Resource" id="Resource_8qdtk"]
script = ExtResource("3_pc2um")
_health = 1
MaxHealth = 1
Damage = 1
Speed = 1
Accel = 1.0
_stamina = 1
MaxStamina = 1
metadata/_custom_type_script = "uid://dkov12aknt46v"

[sub_resource type="SpriteFrames" id="SpriteFrames_rrs41"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_rrs41"]
size = Vector2(56.625, 20)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_yhw32"]
size = Vector2(47, 18)

[node name="DriveableCar" type="CharacterBody2D"]
rotation = 4.712389
scale = Vector2(8, 8)
collision_layer = 2
collision_mask = 65
script = ExtResource("1_n2rgb")
stats = ExtResource("2_sbjmw")
data = SubResource("Resource_8qdtk")
rateOfStaminaRecovery = 1.0
amountOfStaminaRecovered = 1

[node name="Sprite2D" type="Sprite2D" parent="."]
scale = Vector2(0.2, 0.2027027)
texture = ExtResource("1_u0rys")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
sprite_frames = SubResource("SpriteFrames_rrs41")

[node name="HurtBox" parent="." instance=ExtResource("3_rrs41")]

[node name="CollisionShape2D" type="CollisionShape2D" parent="HurtBox"]
position = Vector2(2.6875, -2.4868996e-14)
shape = SubResource("RectangleShape2D_rrs41")
debug_color = Color(0.9576711, 2.887845e-06, 0.5339322, 0.41960785)

[node name="DriveableCarStateMachine" type="Node" parent="."]
script = ExtResource("2_0u1t5")

[node name="ParkTimer" type="Timer" parent="DriveableCarStateMachine"]
wait_time = 0.1

[node name="Park" type="Node" parent="DriveableCarStateMachine"]
script = ExtResource("4_hjrlu")

[node name="Drive" type="Node" parent="DriveableCarStateMachine"]
script = ExtResource("5_7i5lx")

[node name="Decelerate" type="Node" parent="DriveableCarStateMachine"]
script = ExtResource("6_7i5lx")

[node name="Reverse" type="Node" parent="DriveableCarStateMachine"]
script = ExtResource("10_8qdtk")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_yhw32")

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(0.33, 0.33)
limit_left = 0
limit_top = 0
limit_right = 10000
limit_bottom = 10000
limit_smoothed = true
position_smoothing_enabled = true

[node name="menu" type="CanvasLayer" parent="Camera2D"]

[node name="Menu Screen" parent="Camera2D/menu" instance=ExtResource("9_emffi")]
