[gd_scene load_steps=17 format=3 uid="uid://v2ybqe80tyj4"]

[ext_resource type="Script" uid="uid://djm14r0lfj6ec" path="res://Scripts/entities/player/Player.cs" id="1_yl34j"]
[ext_resource type="Texture2D" uid="uid://j1gc51ng1reu" path="res://icon.svg" id="2_0etk1"]
[ext_resource type="Resource" uid="uid://c8ouwji6sxyml" path="res://Resources/entities/player/playerMetaData.tres" id="2_afprn"]
[ext_resource type="Resource" uid="uid://uyep6yujeiow" path="res://Resources/entities/player/PlayerStats.tres" id="2_ah8g8"]
[ext_resource type="Script" uid="uid://bnaxclisdkc0b" path="res://Scripts/entities/player/StateMachines/PlayerStateMachine.cs" id="3_7yyei"]
[ext_resource type="Script" uid="uid://caltl6nhd2gte" path="res://Scripts/entities/player/StateMachines/IdleState.cs" id="4_0etk1"]
[ext_resource type="Script" uid="uid://bykciy4t76ir2" path="res://Scripts/entities/player/StateMachines/WalkState.cs" id="5_0etk1"]
[ext_resource type="Script" uid="uid://c2br3py2nal4r" path="res://Scripts/entities/player/StateMachines/DodgeState.cs" id="7_akm2x"]
[ext_resource type="PackedScene" uid="uid://hoxxysfo02l4" path="res://Scenes/helperScenes/hitbox.tscn" id="7_qn3n3"]
[ext_resource type="PackedScene" uid="uid://ca3g24pmtocst" path="res://Scenes/ui/interface.tscn" id="8_bke8f"]
[ext_resource type="PackedScene" uid="uid://cabq84yevl4wd" path="res://Scenes/helperScenes/hurtbox.tscn" id="9_lyuh4"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_qn3n3"]
radius = 6.0
height = 18.0

[sub_resource type="Animation" id="Animation_cwd6f"]
length = 0.001

[sub_resource type="AnimationLibrary" id="AnimationLibrary_pu3il"]
_data = {
&"RESET": SubResource("Animation_cwd6f")
}

[sub_resource type="CircleShape2D" id="CircleShape2D_lyuh4"]
radius = 6.0

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_lyuh4"]
radius = 5.0
height = 14.0

[node name="Player" type="CharacterBody2D" groups=["player"]]
collision_layer = 2
collision_mask = 64
script = ExtResource("1_yl34j")
metaData = ExtResource("2_afprn")
data = ExtResource("2_ah8g8")
rateOfStaminaRecovery = 1.0
amountOfStaminaRecovered = 10

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
position = Vector2(1, -12)

[node name="Icon" type="Sprite2D" parent="."]
position = Vector2(5.9604645e-08, -8)
scale = Vector2(0.08472531, 0.1048211)
texture = ExtResource("2_0etk1")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, -8)
shape = SubResource("CapsuleShape2D_qn3n3")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_pu3il")
}

[node name="PlayerStateMachine" type="Node" parent="."]
script = ExtResource("3_7yyei")

[node name="idle" type="Node" parent="PlayerStateMachine"]
script = ExtResource("4_0etk1")

[node name="walk" type="Node" parent="PlayerStateMachine"]
script = ExtResource("5_0etk1")

[node name="dodge" type="Node" parent="PlayerStateMachine"]
script = ExtResource("7_akm2x")
dodgeSpeed = 50.0
dodgeDuration = 0.5
staminaCost = 20

[node name="Hitbox" parent="." instance=ExtResource("7_qn3n3")]
position = Vector2(9, -8)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Hitbox"]
position = Vector2(1, 0)
shape = SubResource("CircleShape2D_lyuh4")
debug_color = Color(0.96357936, 6.738305e-07, 0.50072265, 0.41960785)

[node name="HurtBox" parent="." instance=ExtResource("9_lyuh4")]
position = Vector2(0, -8)

[node name="CollisionShape2D" type="CollisionShape2D" parent="HurtBox"]
shape = SubResource("CapsuleShape2D_lyuh4")
debug_color = Color(0.12662396, 0.63510716, 0.36427537, 0.41960785)

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(3, 3)

[node name="Interface" parent="Camera2D" instance=ExtResource("8_bke8f")]
follow_viewport_enabled = false
